% Spell environment sty file

\newenvironment{spell}[2]
{\begin{mdframed}[frametitle={#1},
  frametitlefont=\scshape\bfseries\color{titlered}\Large,
  linecolor=titlered,
  backgroundcolor=monsterbg,
  topline=true,
  bottomline=true,
  leftline=false,
  rightline=false,
  linewidth=3.0pt,
  innertopmargin=0.75pt,
]
\textit{#2}\\
\hline
}
{\end{mdframed}}

% Define Spell subsection header style
\newcommand{\spellsection}[1]{\subsubsection*{#1}}
\titlespacing*{\subsubsection}{0pt}{*0.5}{5pt}
\titleformat{\subsubsection}
{\color{titlered}\normalfont\scshape\Large}{\thesubsection}{1em}{}[{\color{titlered}\titlerule[0.5pt]\color{black}}]

\newenvironment{spelldescription}[1][\unskip]{\emph{\textbf{#1.}}}{}

%
% Macros for use within the spell environment
%
\newkeycommand\spellbasics[castingtime=-, range=-, components=-, duration=-]{%
  \textbf{Casting Time} \commandkey{castingtime}\\
  \textbf{Range} \commandkey{range}\\
  \textbf{Components} \commandkey{components}\\
  \textbf{Duration} \commandkey{duration}\\
}
